
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Gradle plugin that infers Proguard/R8 keep rules for androidTest sources.">
      
      
        <meta name="author" content="Slack">
      
      
      
        <link rel="prev" href="../0.x/keeper-gradle-plugin/com.slack.keeper/">
      
      
        <link rel="next" href="../contributing/">
      
      
      <link rel="icon" href="../images/slack_logo_small.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>Changelog - Keeper</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../css/app.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#changelog" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Keeper" class="md-header__button md-logo" aria-label="Keeper" data-md-component="logo">
      
  <img src="../images/slack_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Keeper
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Changelog
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/slackhq/Keeper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Keeper
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Keeper" class="md-nav__button md-logo" aria-label="Keeper" data-md-component="logo">
      
  <img src="../images/slack_logo.png" alt="logo">

    </a>
    Keeper
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/slackhq/Keeper" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Keeper
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../0.x/keeper-gradle-plugin/com.slack.keeper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unreleased" class="md-nav__link">
    <span class="md-ellipsis">
      Unreleased
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0161" class="md-nav__link">
    <span class="md-ellipsis">
      0.16.1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0160" class="md-nav__link">
    <span class="md-ellipsis">
      0.16.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0150" class="md-nav__link">
    <span class="md-ellipsis">
      0.15.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0140" class="md-nav__link">
    <span class="md-ellipsis">
      0.14.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0130" class="md-nav__link">
    <span class="md-ellipsis">
      0.13.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0120" class="md-nav__link">
    <span class="md-ellipsis">
      0.12.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0112" class="md-nav__link">
    <span class="md-ellipsis">
      0.11.2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0111" class="md-nav__link">
    <span class="md-ellipsis">
      0.11.1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0110" class="md-nav__link">
    <span class="md-ellipsis">
      0.11.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0100" class="md-nav__link">
    <span class="md-ellipsis">
      0.10.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#090" class="md-nav__link">
    <span class="md-ellipsis">
      0.9.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#080" class="md-nav__link">
    <span class="md-ellipsis">
      0.8.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#070" class="md-nav__link">
    <span class="md-ellipsis">
      0.7.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#060" class="md-nav__link">
    <span class="md-ellipsis">
      0.6.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#050" class="md-nav__link">
    <span class="md-ellipsis">
      0.5.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#043" class="md-nav__link">
    <span class="md-ellipsis">
      0.4.3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#032" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#031" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#030" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#020" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.0
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.2.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-variant-filter-api-14" class="md-nav__link">
    <span class="md-ellipsis">
      New Variant Filter API #14
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#r8-repository-management-opt-out-17" class="md-nav__link">
    <span class="md-ellipsis">
      R8 Repository Management Opt-Out #17
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preliminary-support-for-agp-36" class="md-nav__link">
    <span class="md-ellipsis">
      Preliminary support for AGP 3.6
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#010" class="md-nav__link">
    <span class="md-ellipsis">
      0.1.0
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../code-of-conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unreleased" class="md-nav__link">
    <span class="md-ellipsis">
      Unreleased
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0161" class="md-nav__link">
    <span class="md-ellipsis">
      0.16.1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0160" class="md-nav__link">
    <span class="md-ellipsis">
      0.16.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0150" class="md-nav__link">
    <span class="md-ellipsis">
      0.15.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0140" class="md-nav__link">
    <span class="md-ellipsis">
      0.14.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0130" class="md-nav__link">
    <span class="md-ellipsis">
      0.13.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0120" class="md-nav__link">
    <span class="md-ellipsis">
      0.12.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0112" class="md-nav__link">
    <span class="md-ellipsis">
      0.11.2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0111" class="md-nav__link">
    <span class="md-ellipsis">
      0.11.1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0110" class="md-nav__link">
    <span class="md-ellipsis">
      0.11.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0100" class="md-nav__link">
    <span class="md-ellipsis">
      0.10.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#090" class="md-nav__link">
    <span class="md-ellipsis">
      0.9.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#080" class="md-nav__link">
    <span class="md-ellipsis">
      0.8.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#070" class="md-nav__link">
    <span class="md-ellipsis">
      0.7.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#060" class="md-nav__link">
    <span class="md-ellipsis">
      0.6.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#050" class="md-nav__link">
    <span class="md-ellipsis">
      0.5.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#043" class="md-nav__link">
    <span class="md-ellipsis">
      0.4.3
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#032" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#031" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#030" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.0
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#020" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.0
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.2.0">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-variant-filter-api-14" class="md-nav__link">
    <span class="md-ellipsis">
      New Variant Filter API #14
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#r8-repository-management-opt-out-17" class="md-nav__link">
    <span class="md-ellipsis">
      R8 Repository Management Opt-Out #17
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preliminary-support-for-agp-36" class="md-nav__link">
    <span class="md-ellipsis">
      Preliminary support for AGP 3.6
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#010" class="md-nav__link">
    <span class="md-ellipsis">
      0.1.0
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="changelog">Changelog<a class="headerlink" href="#changelog" title="Permanent link">&para;</a></h1>
<h2 id="unreleased"><strong>Unreleased</strong><a class="headerlink" href="#unreleased" title="Permanent link">&para;</a></h2>
<h2 id="0161">0.16.1<a class="headerlink" href="#0161" title="Permanent link">&para;</a></h2>
<p><em>2024-06-28</em></p>
<ul>
<li><strong>Fix</strong>: Support running on Windows.</li>
<li>Build against Gradle <code>8.8</code>.</li>
<li>Build against AGP <code>8.5.0</code>.</li>
<li>Build against Kotlin <code>1.9.24</code>.</li>
</ul>
<p>Special thanks to <a href="https://github.com/mikehardy">@mikehardy</a> for contributing to this release!</p>
<h2 id="0160">0.16.0<a class="headerlink" href="#0160" title="Permanent link">&para;</a></h2>
<p><em>2024-05-09</em></p>
<ul>
<li><strong>Enhancement</strong>: Support for AGP 8.4.0. AGP 8.4.0 is the minimum supported version now.</li>
<li>Update Gradle to <code>8.7</code>.</li>
<li>Remove support for <code>keeper.disableTestProguardFiles</code> as this API can no longer with with newer AGP versions.</li>
</ul>
<p><strong>HELP WANTED:</strong> This project is no longer used by Slack. If your company uses this plugin and is interested in maintaining a fork, see <a href="https://github.com/slackhq/keeper/discussions/144">https://github.com/slackhq/keeper/discussions/144</a>.</p>
<h2 id="0150">0.15.0<a class="headerlink" href="#0150" title="Permanent link">&para;</a></h2>
<p><em>2023-07-25</em></p>
<ul>
<li><strong>Enhancement</strong>: Support AGP 8.1.0. AGP 8.1.0 is the minimum required version now due to breaking API changes.</li>
<li>Update Gradle to <code>8.2.1</code>.</li>
</ul>
<h2 id="0140">0.14.0<a class="headerlink" href="#0140" title="Permanent link">&para;</a></h2>
<p><em>2023-04-15</em></p>
<p>Happy new year!</p>
<ul>
<li><strong>Enhancement</strong>: Support AGP 8.0. AGP 7.x and lower are no longer supported.</li>
<li><strong>Enhancement</strong>: Use new AGP APIs for retrieving all compiled classes, better supporting configuration cache.</li>
<li><strong>Enhancement</strong>: Better support configuration cache in Gradle 8.x in general.</li>
<li><strong>Enhancement</strong>: Add new <code>keeper.disableTestProguardFiles</code> flag gradle property to optionally disable merging in test proguard files.</li>
<li><strong>Enhancement</strong>: <code>InferAndroidTestKeepRules</code> no longer extends <code>JavaExec</code>.</li>
<li><strong>Enhancement</strong>: <code>PrintUses</code> support is removed entirely.</li>
<li><strong>Fix</strong>: Use <code>artifactFiles</code> instead of <code>resolvedArtifacts</code> for resolving proguard files.</li>
</ul>
<h2 id="0130">0.13.0<a class="headerlink" href="#0130" title="Permanent link">&para;</a></h2>
<p><em>2022-12-09</em></p>
<ul>
<li><strong>Enhancement:</strong> Use Gradle 7.5&rsquo;s new <code>ArtifactCollection</code> APIs to for better task input wiring. This allows us to remove the previous hack where we used the target <code>Configuration</code> as an internal property. This also improves configuration caching support. Gradle 7.5 is now the minimum required Gradle version.</li>
<li><strong>Enhancement:</strong> Use AGP&rsquo;s new <code>Component.runtimeConfiguration</code> API. AGP 7.3 is now the minimum required AGP version.</li>
<li><strong>Enhancement:</strong> Removed KGP and kotlin-dsl dependencies. Keeper inappropriately included implementation dependencies on these two and no longer does. This is a breaking change for users who were using these dependencies in their build scripts and you should add them separately if you&rsquo;re using them.</li>
<li><strong>Removed:</strong> <code>PrintUses</code> is no longer supported as this API has been removed from R8 and now only <code>TraceReferences</code> is used.</li>
<li><strong>Removed</strong>: Removed deprecated <code>enableL8RuleSharing</code> and <code>traceReferences.enabled</code> properties in the Keeper gradle extension.</li>
</ul>
<h2 id="0120">0.12.0<a class="headerlink" href="#0120" title="Permanent link">&para;</a></h2>
<p><em>2022-02-02</em></p>
<p><strong>New:</strong> Update to AGP 7.1 APIs</p>
<p>Keeper now requires AGP 7.1.0 or higher and has been reworked to use AGP&rsquo;s new extension APIs. As
such, the <code>variantFilter</code> API has now been removed.</p>
<p>In order to enable Keeper on a particular variant, you must register the <code>KeeperVariantMarker</code>
extension in AGP&rsquo;s <code>VariantBuilder</code> API like so:</p>
<div class="highlight"><pre><span></span><code><span class="n">androidComponents</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">beforeVariants</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">shouldRunKeeperOnVariant</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">builder</span><span class="p">.</span><span class="na">optInToKeeper</span><span class="p">()</span><span class="w"> </span><span class="c1">// Helpful extension function</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Or in Groovy</p>
<div class="highlight"><pre><span></span><code><span class="n">androidComponents</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">beforeVariants</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">shouldRunKeeperOnVariant</span><span class="p">(</span><span class="n">builder</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">builder</span><span class="p">.</span><span class="na">registerExtension</span><span class="p">(</span><span class="n">KeeperVariantMarker</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">KeeperVariantMarker</span><span class="p">.</span><span class="na">INSTANCE</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Keeper&rsquo;s default behavior with no configuration effectively be a no-op, which isn&rsquo;t what you want!</p>
<p><strong>Other updates</strong></p>
<ul>
<li>Remove shaded ZipFlinger APIs, ZipFlinger is now used directly</li>
<li>Update Kotlin to <code>1.6.10</code></li>
</ul>
<h2 id="0112">0.11.2<a class="headerlink" href="#0112" title="Permanent link">&para;</a></h2>
<p><em>2022-01-27</em></p>
<ul>
<li><strong>Fix:</strong> Fix a configuration caching issue when L8 rule sharing is enabled.</li>
</ul>
<h2 id="0111">0.11.1<a class="headerlink" href="#0111" title="Permanent link">&para;</a></h2>
<p><em>2021-08-31</em></p>
<ul>
<li><strong>Fix:</strong> Keeper&rsquo;s intermediate jar creation tasks previously accepted dependencies inputs based on content only. This caused build caching issues across multiple machines with Gradle remote cache enabled because it would then attempt to use the previous build&rsquo;s absolute path to those dependency jars and subsequently fail. This is now fixed by reworking this logic internally a bit and using absolute path sensitivity for that input. This should ensure that caching still works like before across the same machine/paths but will properly be out of date when the absolute paths change across different machines.</li>
</ul>
<h2 id="0110">0.11.0<a class="headerlink" href="#0110" title="Permanent link">&para;</a></h2>
<p><em>2021-07-29</em></p>
<ul>
<li>Minimum supported AGP version is now <code>7.0.0</code>. It may work on older versions but YMMV.</li>
<li>Update embedded ZipFlinger to <code>7.0.0</code> and update to its new <code>Path</code> constructors.</li>
<li>Update to Kotlin <code>1.5.21</code></li>
</ul>
<h2 id="0100">0.10.0<a class="headerlink" href="#0100" title="Permanent link">&para;</a></h2>
<p><em>2021-06-09</em></p>
<ul>
<li>Core Library Desugaring is now fully supported. See its
<a href="https://slackhq.github.io/keeper/#core-library-desugaring-l8-support">section</a> in on the project
site for more details!</li>
<li>The <code>keeper.enableL8RuleSharing</code> Gradle API is now deprecated and does nothing. L8 support is
automatically enabled if <code>android.compileOptions.coreLibraryDesugaringEnabled</code> is true in AGP.</li>
</ul>
<h2 id="090">0.9.0<a class="headerlink" href="#090" title="Permanent link">&para;</a></h2>
<p><em>2021-05-20</em></p>
<ul>
<li><strong>New:</strong> Support for Gradle 7.0.<ul>
<li>If you read diagnostic outputs, note that these are now always written to a unique directory per task.</li>
</ul>
</li>
<li><strong>New:</strong> Experimental support for AGP 7.0.0 (tested up to beta01).</li>
<li><strong>New:</strong> Support for JDK 11 (possibly higher, but we test only JDK 11).</li>
<li>We no longer ship a copy of ZipFlinger and now just use it directly from AGP.</li>
<li>AGP 4.1.x is no longer supported.<ul>
<li>It may work, but we no longer test against it. New minimum supported version is AGP 4.2.0.</li>
</ul>
</li>
<li>Proguard is no longer supported.<ul>
<li>It may work, but we no longer test against it. Only R8 is officially supported now.</li>
</ul>
</li>
</ul>
<h2 id="080">0.8.0<a class="headerlink" href="#080" title="Permanent link">&para;</a></h2>
<p><em>2021-01-04</em></p>
<ul>
<li><strong>New:</strong> Experimental support for the new upcoming <code>TraceReferences</code> tool from R8, which is the
successor for the current <code>PrintUses</code> CLI that Keeper uses. See <a href="https://slackhq.github.io/keeper/configuration/#tracereferences">configuration instructions</a> for more details.</li>
<li>Updated to Kotlin 1.4.21.</li>
</ul>
<p>Special thanks to <a href="https://github.com/pgreze">@pgreze</a> for contributing the TraceReferences support in this release!</p>
<h2 id="070">0.7.0<a class="headerlink" href="#070" title="Permanent link">&para;</a></h2>
<p><em>2020-09-25</em></p>
<ul>
<li><strong>New:</strong> <code>enableL8RuleSharing</code> feature for sharing generated proguard rules between androidtest and main APK assembly. See <a href="https://slackhq.github.io/keeper/configuration/#l8-rule-sharing">configuration instructions</a> for more details.</li>
<li>Make the default behavior to ignore minifyEnabled = false variants (<a href="https://github.com/slackhq/keeper/pull/61">#61</a>)</li>
<li>Built against Kotlin 1.4, using its new <code>explicitApi()</code> mode</li>
<li>ZipFlinger is now manually copied in due to shadow jar packaging issues. This version is current with AGP 4.1.0-rc03</li>
</ul>
<p>Special thanks to <a href="https://github.com/colintheshots">@colintheshots</a> for contributing to this release.</p>
<div class="admonition warning">
<p class="admonition-title">Heads up!</p>
<p>We&rsquo;re considering dropping support for Proguard. Please let us know if you need this.</p>
</div>
<h2 id="060">0.6.0<a class="headerlink" href="#060" title="Permanent link">&para;</a></h2>
<p><em>2020-06-09</em></p>
<ul>
<li>Keeper now supports Gradle <a href="https://docs.gradle.org/6.5-rc-1/userguide/configuration_cache.html">Configuration Caching</a><ul>
<li>Note: At the time of writing, Gradle&rsquo;s <code>JavaExec</code> task (which Keeper uses) does not support it yet. This is expected to be resolved in Gradle 6.6.</li>
</ul>
</li>
<li>Keeper requires AGP 4.0.0 (minimum) now.</li>
<li>Diagnostics improvements<ul>
<li>Enabling extra debug information now also triggers printing of text files with a list of all seen classes in respective jars, for easy checking.</li>
<li>Diagnostics are now under build/intermediates/keeper/diagnostics.</li>
<li>Note that &ldquo;app jars&rdquo; are not under the new diagnostics directory, but rather in the main keeper directory. These are now used as a task input internally.</li>
</ul>
</li>
<li>Some minor under the hood enhancements to avoid processing app classpath twice.</li>
</ul>
<h2 id="050">0.5.0<a class="headerlink" href="#050" title="Permanent link">&para;</a></h2>
<p><em>2020-05-28</em></p>
<ul>
<li>Keeper now supports AGP 4.0 and 4.1!</li>
<li>New <code>enableAssertions</code> property to control assertions behavior when running R8&rsquo;s <code>PrintUses</code> CLI.
This can be useful when debugging errors, as R8 will print those errors out to the generated proguard
file instead if you disable this (the default is enabled).</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">keeper</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">enableAssertions</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="043">0.4.3<a class="headerlink" href="#043" title="Permanent link">&para;</a></h2>
<p><em>2020-05-17</em></p>
<ul>
<li>ZipFlinger updated to 4.1.0-alpha09, which allows us to support Zip64. To avoid conflicts with AGP,
we now shade ZipFlinger in directly.</li>
<li>Kotlin 1.3.72</li>
</ul>
<p><strong>Note: versions 0.4.0-0.4.2 had packaging issues, please skip to 0.4.3.</strong></p>
<h2 id="032">0.3.2<a class="headerlink" href="#032" title="Permanent link">&para;</a></h2>
<p><em>2020-05-6</em></p>
<ul>
<li>Fix support for Gradle 6.4. We assumed that the new <code>exclusiveContent</code> API on maven repositories
would be fixed in this version, but it had another regression.</li>
</ul>
<h2 id="031">0.3.1<a class="headerlink" href="#031" title="Permanent link">&para;</a></h2>
<p><em>2020-03-28</em></p>
<p><strong>Edit:</strong> Release failed to upload, we&rsquo;re working on a fix. In the meantime continue to use 0.3.0
and the regular non-<code>plugins {}</code> approach.</p>
<p>Keeper can now be consumed via regular gradle <code>plugins {}</code> block.</p>
<div class="highlight"><pre><span></span><code><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;com.slack.keeper&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;0.3.1&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Note that we still publish to Maven Central, so you would need to add it to the repositories list
in <code>settings.gradle</code>.</p>
<div class="highlight"><pre><span></span><code>pluginsManagement {
  repositories {
    mavenCentral() // woo-hoo!
    gradlePluginPortal() // there by default
  }
}
</code></pre></div>
<h2 id="030">0.3.0<a class="headerlink" href="#030" title="Permanent link">&para;</a></h2>
<p><em>2020-03-26</em></p>
<ul>
<li>Keeper now uses Zipflinger for packaging, which should give a nice speed boost in creating
intermediate jars.</li>
</ul>
<p>Perf comparisons on the slack app:</p>
<table>
<thead>
<tr>
<th>Task</th>
<th>Before</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>inferExternalStagingAndroidTestKeepRulesForKeeper</td>
<td>14.126s</td>
<td>11.138s</td>
</tr>
<tr>
<td>jarExternalStagingClassesForKeeper</td>
<td>10.364s</td>
<td>6.347s</td>
</tr>
<tr>
<td>jarExternalStagingAndroidTestClassesForKeeper</td>
<td>4.504s</td>
<td>2.609s</td>
</tr>
</tbody>
</table>
<ul>
<li>Keeper now only supports AGP 3.6 or higher. If you still need AGP 3.5.x support, please continue
using Keeper 0.2.0 or lower.</li>
<li>Update Kotlin to 1.3.71.</li>
</ul>
<h2 id="020">0.2.0<a class="headerlink" href="#020" title="Permanent link">&para;</a></h2>
<p><em>2020-02-12</em></p>
<h3 id="new-variant-filter-api-14">New Variant Filter API <a href="https://github.com/slackhq/keeper/pull/14">#14</a><a class="headerlink" href="#new-variant-filter-api-14" title="Permanent link">&para;</a></h3>
<p>You can specify a variantFilter on the keeper extension to dynamically configure which variants Keeper
operates on (similar to the Android Gradle Plugin&rsquo;s VariantFilter API).</p>
<div class="highlight"><pre><span></span><code><span class="n">keeper</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">variantFilter</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;variantThatShouldTotallyBeIgnored&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">setIgnore</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="r8-repository-management-opt-out-17">R8 Repository Management Opt-Out <a href="https://github.com/slackhq/keeper/pull/17">#17</a><a class="headerlink" href="#r8-repository-management-opt-out-17" title="Permanent link">&para;</a></h3>
<p>If you don&rsquo;t want Keeper to automatically manage adding R8&rsquo;s maven repo, you can set disable it via
<code>automaticR8RepoManagement</code>. Note that you&rsquo;ll need to manually add your own repo that the <code>keeperR8</code>
configuration can resolve from.</p>
<div class="highlight"><pre><span></span><code><span class="n">keeper</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">automaticR8RepoManagement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="o">}</span>

<span class="c1">// Example demo of how to configure your own R8 repo</span>
<span class="n">repositories</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">maven</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uri</span><span class="o">(</span><span class="s2">&quot;https://storage.googleapis.com/r8-releases/raw&quot;</span><span class="o">)</span>
<span class="w">    </span><span class="n">content</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">includeModule</span><span class="o">(</span><span class="s2">&quot;com.android.tools&quot;</span><span class="o">,</span><span class="w"> </span><span class="s2">&quot;r8&quot;</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="preliminary-support-for-agp-36">Preliminary support for AGP 3.6<a class="headerlink" href="#preliminary-support-for-agp-36" title="Permanent link">&para;</a></h3>
<p>We&rsquo;ve tested up to 3.6-rc03, let us know if you see any issues!</p>
<h2 id="010">0.1.0<a class="headerlink" href="#010" title="Permanent link">&para;</a></h2>
<p><em>2020-01-29</em></p>
<p>Initial release!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 Slack Technologies, LLC
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>